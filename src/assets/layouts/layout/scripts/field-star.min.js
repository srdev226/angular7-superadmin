// tabdrop
!function(t){var o=function(){var o,e=[],n=!1,i=function(t){clearTimeout(o),o=setTimeout(d,100)},d=function(){for(var t=0,o=e.length;o>t;t++)e[t].apply()};return{register:function(o){e.push(o),n===!1&&(t(window).bind("resize",i),n=!0)},unregister:function(t){for(var o=0,n=e.length;n>o;o++)if(e[o]==t){delete e[o];break}}}}(),e=function(e,n){this.element=t(e),this.dropdown=t('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+n.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element),this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup"),o.register(t.proxy(this.layout,this)),this.layout()};e.prototype={constructor:e,layout:function(){var o=[];this.dropdown.removeClass("hide"),this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&o.push(this)}),o.length>0?(o=t(o),this.dropdown.find("ul").empty().append(o),1==this.dropdown.find(".active").length?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide")}},t.fn.tabdrop=function(o){return this.each(function(){var n=t(this),i=n.data("tabdrop"),d="object"==typeof o&&o;i||n.data("tabdrop",i=new e(this,t.extend({},t.fn.tabdrop.defaults,d))),"string"==typeof o&&i[o]()})},t.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'},t.fn.tabdrop.Constructor=e}(window.jQuery);
// $(window).load(function () {
//   $(".page-loader").fadeOut("slow"); 
//   $(".page-wrapper").fadeIn("slow"); 
// });

// document.oncontextmenu =new Function("return false;")
// document.onselectstart =new Function("return false;")

$(document).ready(function () {
  $('.lc-sidebar a').click(function(){
      $('.lc-sidebar a').removeClass('active');
      $(this).addClass('active');
      var tagid = $(this).data('tag');
      $('.list').removeClass('active').addClass('hide');
      $('.'+tagid).addClass('active').removeClass('hide');
  });



  //$(".page-wrapper").hide(); 
  $('.nav-pills, .nav-tabs').tabdrop()

  $(function () {
    $('[data-toggle="tooltip"]').tooltip()
  })

  $(function() {
    $('.star-select').searchableOptionList({
        showSelectAll: true
    });
  });  

  $('body').addClass('ani'); 

  $('.search-engine .btn-search').click(function() {
    $(this).closest('.search-engine').toggleClass('open');
  });
  
  $('.notification-body h2').click(function() {
    $(this).parent('.portlet-head').toggleClass('open');      
  });

  $('.app-header .app-bars').click(function() {
    $('body').toggleClass('app-sidebar-closed');      
  });

  $('.app-quick-menu.sm li.heading-group > a').click(function() {
    $(this).parent('li.heading-group').toggleClass('open');
    $(this).parent('li.heading-group') .find('ul').slideToggle();
  });

  $('.quick-toggler').click(function() {
    $('body').toggleClass('app-quick-menu-fixed');      
  });

  $('.menu-toggler').click(function() {
    $('.app-header-menu').toggleClass('open');      
  });

  $(document).on('click','h2', function () {
    $(this).toggleClass('active');
    $(this).next('.xc-body').slideToggle();
  });

  $(document).on('click','.builder-group h3.toggle', function () {
    $(this).parent('.builder-group') .toggleClass('open');
    $(this).next('.builder-group .nav').slideToggle();
  });

  $('.color-list li').click(function() {
    $('.color-list li').removeClass('active')
    $(this).toggleClass('active')
    $('.color-result').attr('class', "color-result " + $(this).attr('class'));
  });

  $(document).on('click','a.clone', function () {      
    var clone = $(this).parents('.form-group').find('.clone-group').last();     
    clone.after(clone.clone());      
    if ($(this).parents('.form-group').find('.clone-group.clone-group-btn').length > 1) $(this).parents('.form-group').find('.clone-group.clone-group-btn').last().removeClass('clone-group-btn');
  })

  $(document).on('click','.clone-group .remove', function () {
    $(this).parents().parents('.clone-group').remove();     
  });

  $(document).on('click','a.clone', function () {      
    var cloneitem = $(this).closest('.item-table').find('.clone-item').last();     
    cloneitem.after(cloneitem.clone());          
  })

  $(document).on('click','.btn-delete', function () {
    $(this).parents().parents('.clone-item').remove();     
  });

  $('.timeline-container').hide();
  $('.data-summary').click(function() {
    $('.timeline-container').fadeIn(200);      
    $('.invoice-container').fadeOut(200);
  });
  $('.data-detais').click(function() {
    $('.invoice-container').fadeIn(200);
    $('.timeline-container').fadeOut(200);      
  });

  $('.app-sidebar-menu li a.titan').click(function() {
    $(this).parent('.app-sidebar-menu li').toggleClass('opened');
  });


  // $(document).on('click','.bkg-clone a', function () {   
  //   var addcheckbox = $(this).closest('.xc-body').find('.xc-clone-data').last();
  //   addcheckbox.prepend('<div class="close-group"><div class="row"><div class="col-md-11"><div class="inner"><a href="javascript:void(0);" class="pull-right btn red btn-sm"><i class="svg delete-icon"></i> Delete</a></div></div></div></div>');    
  // });

  $('.quick-scroll').click(function(){
    $('body').toggleClass('app-quick-scroll-open')        
  });

  $('.app-quick-scroll .portlet-head .close').click(function(){
    $('body').removeClass('app-quick-scroll-open')        
  });

  $('.geo-tool ul li').click(function(){
    $(this).toggleClass('active')        
  });

  $(document).on('change','.push-option',function(){
    var target = $(this).find(':selected').attr('data-target');
    $(target).modal('show');
  });

  $('.action-list li.apply a').click(function(){
      $(this).parent().parent().addClass('applied');              
  });

  $('.bulk-btn-data input:checkbox').change(function(){
    if($(this).is(":checked")) {
      $('.bulk-btn').removeClass("hide");
    } 
    else {
      $('.bulk-btn').addClass("hide");
    }
  });

  $('.tax-deducted input:checkbox').change(function(){
    if($(this).is(":checked")) {
      $('.tax').removeClass("hide");
    } 
    else {
      $('.tax').addClass("hide");
    }
  });

  $(document).on('click','.app-data, .scheduler-is',function () {
    var tab_id = $(this).attr('app-data');  
    $('.app-star-sidebar').removeClass('open');
    $("#"+tab_id).addClass('open');
    $('.app-star-sidebar-overlay').addClass('open');
    $('body').addClass('app-body');
  });

  $('.app-star-sidebar-overlay').click(function() {
    $(this).removeClass('open');
    $('.app-star-sidebar').removeClass('open');
    $('body').removeClass('app-body');
  });

  $('.portlet-head .close').click(function() {
    $('.app-star-sidebar-overlay').removeClass('open');
    $('.app-star-sidebar').removeClass('open');
    $('body').removeClass('app-body');
  });

  // filter
  $('.filter-toggle .control-label').click(function() {
    $(this).parent('.filter-toggle').toggleClass('open');
    $(this).parent('.filter-toggle') .find('.box').slideToggle();
  });

  $(".app-filter-sidebar .form-body :checkbox").change(function() {
    if($(this).is(':checked')) 
      $('a.clear').removeClass('hide');
    else 
      $('a.clear').addClass('hide');
  }); 

  $(".app-filter-sidebar .form-body :checkbox").change(function() {
    if($(this).is(':checked'))           
      $(this).parents('.app-filter-sidebar').find('.form-actions .btn').removeClass('hide');   
    else 
      $(this).parents('.app-filter-sidebar').find('.form-actions .btn').addClass('hide');  
  }); 

  $(document).on('click','.ember-form .ember .form-control, .ember-form .ember .select2-selection',function () {
    $(this).closest('.ember').removeClass('ember');      
  });

  $(document).on('click','.ember-form .ember .form-control, .ember-form .ember .select2-selection',function () {
    $('.form-actions').addClass('ember-me');      
  });

  $('.draggable-group h4 a').click(function() {
    $(this).closest('.draggable-group').toggleClass('open');
    $(this).closest('.draggable-group') .find('.draggable-list').slideToggle();
  });

  $('.variant-label-2').click(function() {
    $('.variant-toggle-2').addClass('hide');
  });

  $('.repeater-action-1').hide();     
    $('#repeater-action-1').click(function () {
    $('.repeater-action-2').hide();
    $('.repeater-action-1').show();
  });

  $('#repeater-action-2').click(function () {
    $('.repeater-action-1').hide();
    $('.repeater-action-2').show();
  });

  $('.variant-label').click(function() {
    if ($(this).is(":checked")) {
      $(".variant-toggle").show();
    } else {
      $(".variant-toggle").hide();
    }
  });

  $('.recurring-label').click(function() {
    if ($(this).is(":checked")) {
      $(this).closest('.recurring-engine') .find('.recurring-toggle').show();
    } else {
      $(".recurring-toggle").hide();
    }
  });


//------
  $("input[name$='job']").click(function() {
      var jobtype = $(this).val();
      $(".job-type").hide();
      $("#job" + jobtype).show();
  });

  $("input[name$='onetime-schedule']").click(function() {
      var jobschedule = $(this).val();
      $(".onetime-schedule").hide();
      $("#onetime-schedule" + jobschedule).show();
  });

  $("input[name$='recurring-schedule']").click(function() {
      var jobschedule = $(this).val();
      $(".recurring-schedule").hide();
      $("#recurring-schedule" + jobschedule).show();
  });

//case
  $("input[name$='jobcase']").click(function() {
      var jobcasetype = $(this).val();
      $(".jobcase-type").hide();
      $("#jobcase" + jobcasetype).show();
  });
  $("input[name$='onetime-schedule-case']").click(function() {
      var caseschedule = $(this).val();
      $(".onetime-schedule-case").hide();
      $("#onetime-schedule-case" + caseschedule).show();
  });

  $("input[name$='recurring-schedulecase']").click(function() {
      var caseschedule = $(this).val();
      $(".recurring-schedulecase").hide();
      $("#recurring-schedulecase" + caseschedule).show();
  });

//------
  $("input[name$='tasks']").click(function() {
    var tasktype = $(this).val();
    $(".task-type").hide();
    $("#tasks" + tasktype).show();
  });

  $("input[name$='onetime-schedule-task']").click(function() {
      var taskschedule = $(this).val();
      $(".onetime-schedule-task").hide();
      $("#onetime-schedule-task" + taskschedule).show();
  });

   $("input[name$='recurring-schedule-task']").click(function() {
      var tasksschedule = $(this).val();
      $(".recurring-schedule-task").hide();
      $("#recurring-schedule-task" + tasksschedule).show();
  });

  //case
  $("input[name$='taskscase']").click(function() {
    var tasktype = $(this).val();
    $(".taskcase-type").hide();
    $("#taskscase" + tasktype).show();
  });

  $("input[name$='onetime-schedule-taskcase']").click(function() {
      var taskscasechedule = $(this).val();
      $(".onetime-schedule-taskcase").hide();
      $("#onetime-schedule-taskcase" + taskscasechedule).show();
  });

   $("input[name$='recurring-schedule-taskcase']").click(function() {
      var taskscaseschedule = $(this).val();
      $(".recurring-schedule-taskcase").hide();
      $("#recurring-schedule-taskcase" + taskscaseschedule).show();
  });

  //------- 
  $("input[name$='events']").click(function() {
    var eventtype = $(this).val();
    $(".event-type").hide();
    $("#events" + eventtype).show();
  });

  $("input[name$='onetime-schedule-event']").click(function() {
      var eventchedule = $(this).val();
      $(".onetime-schedule-event").hide();
      $("#onetime-schedule-event" + eventchedule).show();
  });

   $("input[name$='recurring-schedule-event']").click(function() {
      var eventschedule = $(this).val();
      $(".recurring-schedule-event").hide();
      $("#recurring-schedule-event" + eventschedule).show();
  });

   //case
  $("input[name$='eventscase']").click(function() {
    var eventcasetype = $(this).val();
    $(".eventcase-type").hide();
    $("#eventscase" + eventcasetype).show();
  });

  $("input[name$='onetime-schedule-eventcase']").click(function() {
      var eventcasechedule = $(this).val();
      $(".onetime-schedule-eventcase").hide();
      $("#onetime-schedule-eventcase" + eventcasechedule).show();
  });

   $("input[name$='recurring-schedule-eventcase']").click(function() {
      var eventscasechedule = $(this).val();
      $(".recurring-schedule-eventcase").hide();
      $("#recurring-schedule-eventcase" + eventscasechedule).show();
  });

   //------
  $("input[name$='estimates']").click(function() {
    var estimatetype = $(this).val();
    $(".estimate-type").hide();
    $("#estimates" + estimatetype).show();
  });

  $("input[name$='onetime-schedule-estimate']").click(function() {
      var estimatechedule = $(this).val();
      $(".onetime-schedule-estimate").hide();
      $("#onetime-schedule-estimate" + estimatechedule).show();
  });

  $("input[name$='recurring-schedule-estimate']").click(function() {
      var estimateschedule = $(this).val();
      $(".recurring-schedule-estimate").hide();
      $("#recurring-schedule-estimate" + estimateschedule).show();
  });

  //case
  $("input[name$='estimatescase']").click(function() {
    var estimacatetype = $(this).val();
    $(".estimatecase-type").hide();
    $("#estimatescase" + estimacatetype).show();
  });

  $("input[name$='onetime-schedule-estimatecase']").click(function() {
      var estimatsssechedule = $(this).val();
      $(".onetime-schedule-estimatcase").hide();
      $("#onetime-schedule-estimatecase" + estimatsssechedule).show();
  });

   $("input[name$='recurring-schedule-estimatecase']").click(function() {
      var estimatdddeschedule = $(this).val();
      $(".recurring-schedule-estimatcase").hide();
      $("#recurring-schedule-estimatecase" + estimatdddeschedule).show();
  });



// function edit(element) {
//   var parent=$(element).parent().parent();
//   var placeholder=$(parent).find('.text-info').text();
//   //hide label
//   $(parent).find('label').hide();
//   //show input, set placeholder
//   var input=$(parent).find('input[type="text"]');
//   $(input).show();
//   $(input).attr('placeholder', placeholder);
// }


  $('.edit-on-click').click(function() {
    var $text = $(this),
      $input = $('<input type="text" />')

    $text.hide()
      .after($input);

    $input.val($text.html()).show().focus()
      .keypress(function(e) {
        var key = e.which
        if (key == 13) // enter key
        {
          $input.hide();
          $text.html($input.val())
            .show();
          return false;
        }
      })
      .focusout(function() {
        $input.hide();
        $text.show();
      })
  });


























   $('.portlet-head a').click(function(){
      var tools_id = $(this).attr('data-action');      
      $("#"+tools_id).toggleClass('open');      
    })

  $(function(){
    $("[data-toggle=popover]").popover({
      html : true,
      content: function() {
        var content = $(this).attr("data-popover-content");
        return $(content).children(".popover-body").html();
      },
      title: function() {
        var title = $(this).attr("data-popover-content");
        return $(title).children(".popover-heading").html();
      }
    });
  });

  $(document).on('change', '.switch-data', function() {
    var target = $(this).data('target');
    var show = $("option:selected", this).data('show');
    $(target).children().addClass('hide');
    $(show).removeClass('hide');
  });
  $('.switch-data').trigger('change');

   $(document).on('click','.hour-group .grid-view',function(){   
    $('.hour-grid-view').removeClass('hide')        
    $('.hour-list-view').addClass('hide') 
  });

  $(document).on('click','.hour-group .list-view',function(){ 
    $('.hour-list-view').removeClass('hide')        
    $('.hour-grid-view').addClass('hide') 
  });

  $('.feed-list a.comment').click(function() {
    $(this).closest('li').find('.comment-msg').slideToggle();
  });

  $('.feed .af a').click(function() {
    $(this).closest('tr').find('p.af-toggle').slideToggle();
  });

  $(document).on('click','.next-step',function () {
    $(".form-loader").addClass("active");      
  }); 

  $(".same :checkbox").change(function() {
    if($(this).is(':checked'))           
      $(this).closest('.same-ember').find('.address-check').removeClass('hide');   
    else 
      $(this).closest('.same-ember').find('.address-check').addClass('hide');  
  }); 

  $(".same :checkbox").change(function() {
    $('.same-address') .toggleClass('hide'); 
  });

  $(".same :checkbox").change(function() {
    if($(this).is(':checked'))           
      $('.same-address') .addClass('hide'); 
    else 
      $('.address-filter') .removeClass('hide'); 
  });



  $('.menu-switcher').click(function() {
    $('.booking-container').toggleClass('open');
  });

  $('.bottom a.assign').click(function() {
    $(this).toggleClass('active');
    $(this).closest('.group-draft').find('.bottom-msg').toggleClass('open');
  });

  $('.assignee a').click(function() {
    $(this).toggleClass('active');
    $(this).closest('.group-draft').find('.bottom-msg').toggleClass('open');
  });



  $(document).on('click','.bottom .sol-container',function(){ 
    $(this).closest('.group-draft').find('.bottom-msg').addClass('sm');
  });

  $('.draft-container .data-draft').click(function(){
    var tab_ids = $(this).attr('data-draft');

    $('.draft-container .data-draft').removeClass('active');
    $('.draft-container .data').removeClass('active');

    $(this).addClass('active');
    $("."+tab_ids).addClass('active');
  });

  $('.draft-container .mid-col .box.data-draft-map').click(function(){
    var tab_idss = $(this).attr('data-draft-map');
    $('.draft-container .right-col .data').removeClass('active');

    $('.draft-container .data-draft-map').removeClass('active-');
    $('.draft-container .data-map').removeClass('active-');

    $(this).addClass('active-');
    $("."+tab_idss).addClass('active-');
  });

  $('.vart-btn').click(function(){
    $('.vart-toggle').toggleClass('hide');      
  });

  $('.ocbtn').click(function(){
    $('.order-ember .box').removeClass('hide');      
    $('.order-ember .box.ao').addClass('hide');   
  });
  $('.comment').click(function() {
    $(this) .hide();
    $('.comment-data').removeClass('hide');      
  });

  $("input[name$='woname']").click(function() {
      var eventchedule1 = $(this).val();
      $(".address-info").hide();
      $("#woname" + eventchedule1).show();
  });

  $(document).on('click','.job-save.step1',function(){ 
    $(this).removeClass('step1');
    $(this).addClass('step2');
    $('.applet-container.step1').removeClass('hide');
  });
  $(document).on('click','.job-save.step2',function(){ 
    $(this).removeClass('step2');
    $(this).addClass('step3');
    $('.applet-container.step2').removeClass('hide');
  });
  $(document).on('click','.job-save.step3',function(){ 
    $(this).removeClass('step3');
    $(this).addClass('step4');
    $('.applet-container.step3').removeClass('hide');
  });
  $(document).on('click','.job-save.step4',function(){ 
    $(this).removeClass('step4');
    $(this).addClass('step5');
    $('.applet-container.step4').removeClass('hide');
  });
  $(document).on('click','.job-save.step5',function(){ 
    $(this).removeClass('step5');
    $(this).addClass('step6');
    $('.applet-container.step5').removeClass('hide');
  });
  $(document).on('click','.job-save.step6',function(){ 
    $(this).removeClass('step6');
    $(this).addClass('step7 hide');
    $('.job-save.step-next').removeClass('hide');
    $('.applet-container.step6').removeClass('hide');
  });


  

   


    








});

$(document).ready(function(){  
  $("#scroll-data a").on('click', function(event) {
    if (this.hash !== "") {    
      event.preventDefault();
      var hash = this.hash;
      
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 800, function(){  
        window.location.hash = hash;
      });
    } 
  });
});



var PortletDraggable = function () {
    return {
        //main function to initiate the module
        init: function () {
            if (!jQuery().sortable) {
              return;
            }
            $(".draggable-app, .draggable-engine, .draggable-builder").sortable({
                connectWith: ".accordion",
                items: ".draggable-row, .scheduler-right .scheduler-table tr td .cell, .list-unstyled li, .is-draggable, .is-draggable-row, .move-item, .draggable-in, .table-min tr, .drag", 
                opacity: 0.8,
                handle : 'span.handle',
                coneHelperSize: true,
                placeholder: 'portlet-sortable-placeholder',
                forcePlaceholderSize: true,
                tolerance: "pointer",
                helper: "clone",
                tolerance: "pointer",
                forcePlaceholderSize: !0,
                helper: "clone",
                cancel: ".portlet-sortable-empty, .portlet-fullscreen", // cancel dragging if portlet is in fullscreen mode
                revert: 250, // animation in milliseconds
                update: function(b, c) {
                  if (c.item.prev().hasClass("portlet-sortable-empty")) {
                    c.item.prev().before(c.item);
                  }                    
                }
            });
        }
    };
}();

jQuery(document).ready(function() {
  PortletDraggable.init();
});














$(document).ready(function () {
// multi hr scroll hour list
  var $divs = $('.scroll-hour-list-hr-1, .scroll-hour-list-hr-2');
  var sync = function(e){
    //alert("sincr");
    var $other = $divs.not(this).off('scroll');
    var other = $other.get(0);
    var percentage = this.scrollLeft / (this.scrollWidth - this.offsetWidth);
    other.scrollLeft = percentage * (other.scrollWidth - other.offsetWidth);
    setTimeout( function(){ $other.on('scroll', sync ); },10);
  }
  $divs.on( 'scroll', sync);

   // multi vrt scroll hour list
  var master = "scroll-hour-list-vet-1"; 
  var slave = "scroll-hour-list-vet-2"; 
  var master_tmp;
  var slave_tmp;
  var timer;    
  var sync = function ()
  {
    if($(this).attr('id') == slave)
    {
      master_tmp = master;
      slave_tmp = slave;
      master = slave;
      slave = master_tmp;
    }    
    $("#" + slave).unbind("scroll");    
    var percentage = this.scrollTop / (this.scrollHeight - this.offsetHeight);    
    var x = percentage * ($("#" + slave).get(0).scrollHeight - $("#" + slave).get(0).offsetHeight);
    $("#" + slave).scrollTop(x);    
    if(typeof(timer) !== 'undefind')
      clearTimeout(timer);    
    timer = setTimeout(function(){ $("#" + slave).scroll(sync) }, 200)  }  
    $('#' + master + ', #' + slave).scroll(sync);

  
// hour-grid---------------------------

  // multi hr scroll hour grid
  var $divshg = $('.scroll-hour-grid-hr-1, .scroll-hour-grid-hr-2');
  var sync = function(e){
    //alert("sincr");
    var $otherhg = $divshg.not(this).off('scroll');
    var otherhg = $otherhg.get(0);
    var percentage = this.scrollLeft / (this.scrollWidth - this.offsetWidth);
    otherhg.scrollLeft = percentage * (otherhg.scrollWidth - otherhg.offsetWidth);
    setTimeout( function(){ $otherhg.on('scroll', sync ); },10);
  }
  $divshg.on( 'scroll', sync);

   // multi vrt scroll hour grid
  var masterhg = "scroll-hour-grid-vet-1"; 
  var slavehg = "scroll-hour-grid-vet-2"; 
  var masterhg_tmp;
  var slavehg_tmp;
  var timer;    
  var sync = function ()
  {
    if($(this).attr('id') == slavehg)
    {
      masterhg_tmp = masterhg;
      slavehg_tmp = slavehg;
      masterhg = slavehg;
      slavehg = masterhg_tmp;
    }    
    $("#" + slavehg).unbind("scroll");    
    var percentage = this.scrollTop / (this.scrollHeight - this.offsetHeight);    
    var x = percentage * ($("#" + slavehg).get(0).scrollHeight - $("#" + slavehg).get(0).offsetHeight);
    $("#" + slavehg).scrollTop(x);    
    if(typeof(timer) !== 'undefind')
      clearTimeout(timer);    
    timer = setTimeout(function(){ $("#" + slavehg).scroll(sync) }, 200)  }  
    $('#' + masterhg + ', #' + slavehg).scroll(sync);

// day ---------------------------

  // multi hr scroll day
  var $divsday = $('.scroll-day-hr-1, .scroll-day-hr-2');
  var sync = function(e){
    //alert("sincr");
    var $otherday = $divsday.not(this).off('scroll');
    var otherday = $otherday.get(0);
    var percentage = this.scrollLeft / (this.scrollWidth - this.offsetWidth);
    otherday.scrollLeft = percentage * (otherday.scrollWidth - otherday.offsetWidth);
    setTimeout( function(){ $otherday.on('scroll', sync ); },10);
  }
  $divsday.on( 'scroll', sync);

   // multi vrt scroll day
  var masterday = "scroll-day-vet-1"; 
  var slaveday = "scroll-day-vet-2"; 
  var masterday_tmp;
  var slaveday_tmp;
  var timer;    
  var sync = function ()
  {
    if($(this).attr('id') == slaveday)
    {
      masterday_tmp = masterday;
      slaveday_tmp = slaveday;
      masterday = slaveday;
      slaveday = masterday_tmp;
    }    
    $("#" + slaveday).unbind("scroll");    
    var percentage = this.scrollTop / (this.scrollHeight - this.offsetHeight);    
    var x = percentage * ($("#" + slaveday).get(0).scrollHeight - $("#" + slaveday).get(0).offsetHeight);
    $("#" + slaveday).scrollTop(x);    
    if(typeof(timer) !== 'undefind')
      clearTimeout(timer);    
    timer = setTimeout(function(){ $("#" + slaveday).scroll(sync) }, 200)  }  
    $('#' + masterday + ', #' + slaveday).scroll(sync);


// week ---------------------------

  // multi hr scroll week
  var $divsweek = $('.scroll-week-hr-1, .scroll-week-hr-2');
  var sync = function(e){
    //alert("sincr");
    var $otherweek = $divsweek.not(this).off('scroll');
    var otherweek = $otherweek.get(0);
    var percentage = this.scrollLeft / (this.scrollWidth - this.offsetWidth);
    otherweek.scrollLeft = percentage * (otherweek.scrollWidth - otherweek.offsetWidth);
    setTimeout( function(){ $otherweek.on('scroll', sync ); },10);
  }
  $divsweek.on( 'scroll', sync);

   // multi vrt scroll week
  var masterweek = "scroll-week-vet-1"; 
  var slaveweek = "scroll-week-vet-2"; 
  var masterweek_tmp;
  var slaveweek_tmp;
  var timer;    
  var sync = function ()
  {
    if($(this).attr('id') == slaveweek)
    {
      masterweek_tmp = masterweek;
      slaveweek_tmp = slaveweek;
      masterweek = slaveweek;
      slaveweek = masterweek_tmp;
    }    
    $("#" + slaveweek).unbind("scroll");    
    var percentage = this.scrollTop / (this.scrollHeight - this.offsetHeight);    
    var x = percentage * ($("#" + slaveweek).get(0).scrollHeight - $("#" + slaveweek).get(0).offsetHeight);
    $("#" + slaveweek).scrollTop(x);    
    if(typeof(timer) !== 'undefind')
      clearTimeout(timer);    
    timer = setTimeout(function(){ $("#" + slaveweek).scroll(sync) }, 200)  }  
    $('#' + masterweek + ', #' + slaveweek).scroll(sync);


// month ---------------------------

  // multi hr scroll month
  var $divsmonth = $('.scroll-month-hr-1, .scroll-month-hr-2');
  var sync = function(e){
    //alert("sincr");
    var $othermonth = $divsmonth.not(this).off('scroll');
    var othermonth = $othermonth.get(0);
    var percentage = this.scrollLeft / (this.scrollWidth - this.offsetWidth);
    othermonth.scrollLeft = percentage * (othermonth.scrollWidth - othermonth.offsetWidth);
    setTimeout( function(){ $othermonth.on('scroll', sync ); },10);
  }
  $divsmonth.on( 'scroll', sync);

   // multi vrt scroll month
  var mastermonth = "scroll-month-vet-1"; 
  var slavemonth = "scroll-month-vet-2"; 
  var mastermonth_tmp;
  var slavemonth_tmp;
  var timer;    
  var sync = function ()
  {
    if($(this).attr('id') == slavemonth)
    {
      mastermonth_tmp = mastermonth;
      slavemonth_tmp = slavemonth;
      mastermonth = slavemonth;
      slavemonth = mastermonth_tmp;
    }    
    $("#" + slavemonth).unbind("scroll");    
    var percentage = this.scrollTop / (this.scrollHeight - this.offsetHeight);    
    var x = percentage * ($("#" + slavemonth).get(0).scrollHeight - $("#" + slavemonth).get(0).offsetHeight);
    $("#" + slavemonth).scrollTop(x);    
    if(typeof(timer) !== 'undefind')
      clearTimeout(timer);    
    timer = setTimeout(function(){ $("#" + slavemonth).scroll(sync) }, 200)  }  
    $('#' + mastermonth + ', #' + slavemonth).scroll(sync);


    });





































// http://jsfiddle.net/happysmiles/F33Av/22/

$(".tabbable-line .nav-tabs").on("click", "a", function (e) {
        e.preventDefault();
        if (!$(this).hasClass('add-tab')) {
            $(this).tab('show');
        }
    })
    .on("click", "span", function () {
        var anchor = $(this).siblings('a');
        $(anchor.attr('href')).remove();
        $(this).parent().remove();
        $(".nav-tabs li").children('a').first().click();
    });

$('.add-tab').click(function (e) {
    e.preventDefault();
    var id = $(".nav-tabs").children().length; //think about it ;)
    var tabId = 'contact_' + id;
    //$(this).next('li').addClass('active');
    $(this).closest('li').before('<li><a class="active" href="#tab_' + id + '">Job #X</a><ul class="dropdown-menu sm"><li><a href=""><i class="svg edit-icon"></i> Rename</a></li><li><a href=""><i class="svg plus-icon"></i> Copy to new job</a></li><li><a href=""><i class="svg close-icon"></i> Cancel job</a></li><li><a href=""><i class="svg delete-icon"></i> Delete job</a></li></ul></li>');
    $('.tab-content').append('<div class="tab-pane" id="' + tabId + '">Contact Form: New Contact ' + id + '</div>');
   $('.nav-tabs li:nth-child(' + id + ') a').click();
});

  $('body').on('click', '.nav-tabs li.active', function (e) {
   //$('.nav-tabs li.active').hover(function(e) {
    $(this).find('.dropdown-menu').slideToggle();
  }, function() {
    $(this).find('.dropdown-menu').slideToggle();
  });


// $(function() {
//   $('.star-select').searchableOptionList({
//       showSelectAll: true
//   });
// });




$(function() {
    
    var hours = minutes = seconds = milliseconds = 0;
    var prev_hours = prev_minutes = prev_seconds = prev_milliseconds = undefined;
    var timeUpdate;
  
    // Start/Pause/Resume button onClick
    $(".start_pause_resume").button().click(function(){
        // Start button
        if($(this).text() == "Start"){  // check button label
            $(this).html("<span class='active'>Pause</span>");
            updateTime(0,0,0,0);
        }
    // Pause button
        else if($(this).text() == "Pause"){
            clearInterval(timeUpdate);
            $(this).html("<span>Resume</span>");
        }
    // Resume button    
        else if($(this).text() == "Resume"){
            prev_hours = parseInt($(".hours").html());
            prev_minutes = parseInt($(".minutes").html());
            prev_seconds = parseInt($(".seconds").html());
            prev_milliseconds = parseInt($(".milliseconds").html());
            
            updateTime(prev_hours, prev_minutes, prev_seconds, prev_milliseconds);
            
            $(this).html("<span class='active'>Pause</span>");
        }
    });
    
    // Reset button onClick
    $(".reset").button().click(function(){
        if(timeUpdate) clearInterval(timeUpdate);
        setStopwatch(0,0,0,0);
        $(".start_pause_resume").html("<span>Start</span>");      
    });
    
    // Update time in stopwatch periodically - every 25ms
    function updateTime(prev_hours, prev_minutes, prev_seconds, prev_milliseconds){
        var startTime = new Date();    // fetch current time
        
        timeUpdate = setInterval(function () {
            var timeElapsed = new Date().getTime() - startTime.getTime();    // calculate the time elapsed in milliseconds
            
            // calculate hours                
            hours = parseInt(timeElapsed / 1000 / 60 / 60) + prev_hours;
            
            // calculate minutes
            minutes = parseInt(timeElapsed / 1000 / 60) + prev_minutes;
            if (minutes > 60) minutes %= 60;
            
            // calculate seconds
            seconds = parseInt(timeElapsed / 1000) + prev_seconds;
            if (seconds > 60) seconds %= 60;
            
            // calculate milliseconds 
            milliseconds = timeElapsed + prev_milliseconds;
            if (milliseconds > 1000) milliseconds %= 1000;
            
            // set the stopwatch
            setStopwatch(hours, minutes, seconds, milliseconds);
            
        }, 25); // update time in stopwatch after every 25ms
        
    }
    
    // Set the time in stopwatch
    function setStopwatch(hours, minutes, seconds, milliseconds){
        $(".hours").html(prependZero(hours, 2));
        $(".minutes").html(prependZero(minutes, 2));
        $(".seconds").html(prependZero(seconds, 2));
        $(".milliseconds").html(prependZero(milliseconds, 3));
    }
    
    // Prepend zeros to the digits in stopwatch
    function prependZero(time, length) {
        time = new String(time);    // stringify time
        return new Array(Math.max(length - time.length + 1, 0)).join("0") + time;
    }


    $(document).on('click','.list-view-btn',function(){   
      $('.list-view-page').removeClass('hide')        
      $('.calender-view-page').addClass('hide') 
    });

    $(document).on('click','.calender-view-btn',function(){   
      $('.calender-view-page').removeClass('hide')        
      $('.list-view-page').addClass('hide') 
    });

     $(".c1").each(function(){
     $(this).show();
    if($(this).attr('id') == 'title_1') {
        $(this).hide();
    }
  });


  $('a.c2').on( "click", function(e) {
      e.preventDefault();
      var id = $(this).attr('data-related'); 
      $(".c1").each(function(){
          $(this).show();
          if($(this).attr('id') == id) {
              $(this).hide();
          }
      });
  });


});









$(document).on('click','.activity-list li span.arrow',function () {   
  $(this).closest('.activity-list li').toggleClass('open');
});

$(document).on('click','.note-list li',function () {   
  $(this).toggleClass('active');
});




jQuery(document).ready(function() {
  $(function() {
    $(".bar-chart.vrt li .bar").each( function( key, bar ) {
      var percentage = $(this).data('percentage');
      
      $(this).animate({
        'height' : percentage + '%'
      }, 1000);
    });
  });

  $(function() {
    $(".bar-chart.hr li .bar").each( function( key, bar ) {
      var percentage = $(this).data('percentage');
      
      $(this).animate({
        'width' : percentage + '%'
      }, 1000);
    });
  });
  $(".dropdown-menu li a").click(function(){
    $(this).parents(".change").find('.btn').html($(this).text() + ' <i class="svg down-icon"></i>');
    $(this).parents(".change").find('.btn').val($(this).data('value'));
  });
  $('.rating-list li a').click(function() {
    $(this) .toggleClass('active');
  });
  
  $('.applet-head a.data-collapse').click(function() {    
    $(this).closest('.applet-head') .next('div').slideToggle();
    $(this).closest('.applet-head') .find('.data-collapse').toggleClass('open');
  });

  $('.invoice-header a.data-collapse').click(function() {    
    $(this).closest('.invoice-header') .next('div').slideToggle();
    $(this).closest('.invoice-header') .find('.data-collapse').toggleClass('open');
  });

  $('.bcc-txt').click(function() {    
    $(this).hide();
    $('.bcc-data').show();
  });  
});

// $(window).ready(function(){
//   if ($(window).width() <= 800){     
//   }else{ 
//   } 
// });



var originalLeave = $.fn.popover.Constructor.prototype.leave;
$.fn.popover.Constructor.prototype.leave = function(obj){
  var self = obj instanceof this.constructor ?
    obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.' + this.type)
  var container, timeout;

  originalLeave.call(this, obj);

  if(obj.currentTarget) {
    container = $(obj.currentTarget).siblings('.popover')
    timeout = self.timeout;
    container.one('mouseenter', function(){
      //We entered the actual popover â€“ call off the dogs
      clearTimeout(timeout);
      //Let's monitor popover content instead
      container.one('mouseleave', function(){
        $.fn.popover.Constructor.prototype.leave.call(self, self);
      });
    })
  }
};


$('body').popover({ selector: '[data-popover]', trigger: 'click hover', placement: 'right', delay: {show: 500, hide: 200}});












// var tableOffset = $("#table-1").offset().top;
// var $header = $("#table-1 > thead").clone();
// var $fixedHeader = $("#header-fixed").append($header);

// $(window).bind("scroll", function() {
//     var offset = $(this).scrollTop();

//     if (offset >= tableOffset && $fixedHeader.is(":hidden")) {
//         $fixedHeader.show();
//     }
//     else if (offset < tableOffset) {
//         $fixedHeader.hide();
//     }
// });


// $('.show-password').hover(function functionName() {
//     $('.password').attr('type', 'text');
//     $('.zmdi').removeClass('zmdi-eye').addClass('zmdi-eye-off');
//   }, function () {
//     $('.password').attr('type', 'password');
//     $('.zmdi').removeClass('zmdi-eye-off').addClass('zmdi-eye');
//   }
// );


// $(window).load(function() {
//     var owl = $('.owl-carousel');
//     owl.owlCarousel({
//       margin: 10,
//       nav: true,
//       loop: true,
//       dots: false,
//       responsive: {
//         0: {
//           items: 1
//         },
//         600: {
//           items: 3
//         },
//         1000: {
//           items: 5
//         }
//       }
//     })
// });